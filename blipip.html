<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>prueba-q5-blpp</title>
    <link rel="icon" type="image/x-icon" href="ico/favicon.ico">

    <style>
			* {
				margin: 0;
				padding: 0;
				overflow: hidden;
			}
			
			#cont {
				height: 100svh;
			}

			main {
				background-color: rgb(9, 5, 6);
			}
		</style>

    <script src="https://q5js.org/q5.js"></script>
  </head>

  <body>
    <main>
			<div id="cont"></div>
    </main>
		<script>
///////////////////////////////////////////////////////

let dejavu;

function preload() {
	dejavu = loadFont("./fonts/DejaVuSansMono.ttf");
}

function setup() {

	const factorResolucion = 0.5; // ==> 1.0 es 1080x1920
	let anchoCanvas, altoCanvas;

  // caso vertical
  if (windowWidth * 16 < windowHeight * 9) {
		anchoCanvas = 1080 * factorResolucion;
    altoCanvas = (windowHeight * anchoCanvas) / windowWidth;
  }
  // caso horizontal
  else {
    altoCanvas = 1920 * factorResolucion;
		let prp = (windowWidth * altoCanvas) / windowHeight;
    anchoCanvas = constrain(prp, 1080 * factorResolucion, altoCanvas);
  }

	createCanvas(anchoCanvas, altoCanvas).parent("cont");
	displayMode("maxed");

	textFont(dejavu);
	textSize(20);
	textAlign(CENTER, CENTER);
	angleMode(DEGREES);
	rectMode(CENTER);
	strokeWeight(2);
  frameRate(25);
}

function draw() {
	clear();
	if (windowWidth * 16 < windowHeight * 9) background(frameCount % 255);
	else background(255 - frameCount % 255, 20, frameCount % 255);

	// polar coordinates
	translate(width / 2, height / 2); 

	// button
	stroke(200, 100, 190, 60);
	fill(200, 100, 190, 10);
	rect(0, -421, 50, 30, 6);
	noStroke();
	fill(200, 100, 190, 90);
	text("esc", 0, -420);

	stroke(200, 0, 0);
	fill(200, 200, 20, 120);
	rect(0, 0, width * 0.98, width * 0.98);

	stroke(0);
	fill(0,200,220, 120);
	rect(0, 0, 90 * 5.6, 160 * 5.6)
	fill(110,210,250, 150);
	circle(0,0,300);

	resetMatrix();
	fill(255, 0, 0);
	circle(0, 0, 50);

	fill(255, 220, 220);
	circle(width, 0, 50);
	
	fill(255, 0, 220);
	circle(0, height, 50);

	fill(255, 220, 0);
	circle(width, height, 50);
}


/////////////////////////////
// full screen
// for chromium, firefox, safari, ie
function mouseReleased() {
	if (
			document.fullscreenElement ||
			document.mozFullScreenElement ||
			document.webkitFullscreenElement ||
			document.msFullscreenElement
	) {
			exitFullscreen();
	} else {
			requestFullscreen();
	}
}

function requestFullscreen() {
	if (document.documentElement.requestFullscreen) {
			document.documentElement.requestFullscreen();
	} else if (document.documentElement.mozRequestFullScreen) {
			document.documentElement.mozRequestFullScreen(); // Firefox
	} else if (document.documentElement.webkitRequestFullscreen) {
			document.documentElement.webkitRequestFullscreen(); // Chrome, Safari, and Opera
	} else if (document.documentElement.msRequestFullscreen) {
			document.documentElement.msRequestFullscreen(); // Internet Explorer
	}
}

function exitFullscreen() {
	if (document.exitFullscreen) {
			document.exitFullscreen();
	} else if (document.mozCancelFullScreen) {
			document.mozCancelFullScreen(); // Firefox
	} else if (document.webkitExitFullscreen) {
			document.webkitExitFullscreen(); // Chrome, Safari, and Opera
	} else if (document.msExitFullscreen) {
			document.msExitFullscreen(); // Internet Explorer
	}
}

///////////////////////////////////////////////////////
		</script>
	</body>
</html>